<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>登入 / 註冊</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="https://github.githubassets.com/favicons/favicon.png">
    <script src="script.js" defer></script>
    <style>
      .section-toggle {
        cursor: pointer;
        color: #b03a2e;
        font-weight: bold;
        margin-top: 20px;
        display: flex;
        align-items: center;
      }
      .section-toggle span {
        display: inline-block;
        transition: transform 0.3s ease;
        margin-right: 6px;
      }
      .rotate {
        transform: rotate(90deg);
      }
      .toggle-section {
        display: none;
        animation: fadeIn 0.3s ease-in-out;
      }
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      .form-row {
        display: flex;
        gap: 40px;
        justify-content: space-between;
        flex-wrap: wrap;
        margin-top: 20px;
      }
      .form-box {
        flex: 1;
        min-width: 300px;
      }
    </style>
</head>
<body>
    <div class="container">
        <h2>台塑貨運盤點巡檢系統</h2>

        <!-- 登入區塊 -->
        <h3>帳號登入</h3>
        <input type="text" id="account" placeholder="輸入帳號">
        <input type="password" id="password" placeholder="輸入密碼">
        <button onclick="login()">登入</button>
        <p id="message"></p>

        <hr>

        <!-- 並排顯示註冊與查詢密碼 -->
        <div class="form-row">
          <!-- 註冊帳號區塊 -->
          <div class="form-box">
            <div class="section-toggle" onclick="toggleSection('register-section', this)">
              <span>▶</span> 註冊帳號
            </div>
            <div id="register-section" class="toggle-section">
              <form id="register-form">
                <input type="text" name="regAccount" placeholder="帳號（2~4 中文字）" required><br>
                <input type="password" name="regPassword" placeholder="密碼" required><br>
                <select name="regDepartment" required>
                  <option value="">請選擇部門</option>
                  <option value="營一處">營一處</option>
                  <option value="營二處">營二處</option>
                  <option value="營三處">營三處</option>
                  <option value="營四處台中站">營四處台中站</option>
                  <option value="營四處新港站">營四處新港站</option>
                  <option value="中區保養廠梧棲">中區保養廠梧棲</option>
                  <option value="其他">其他</option>
                </select><br>
                <input type="email" name="regEmail" placeholder="Email" required><br>
                <button type="submit">註冊</button>
                <p id="registerMessage"></p>
              </form>
            </div>
          </div>

          <!-- 忘記密碼區塊 -->
          <div class="form-box">
            <div class="section-toggle" onclick="toggleSection('forgot-section', this)">
              <span>▶</span> 忘記密碼
            </div>
            <div id="forgot-section" class="toggle-section">
              <form id="forgot-form">
                <input type="text" name="forgotAccount" placeholder="帳號" required><br>
                <input type="email" name="forgotEmail" placeholder="Email" required><br>
                <button type="submit">寄送密碼到信箱</button>
                <p id="forgotMessage"></p>
              </form>
            </div>
          </div>
        </div>
    </div>

    <script>
      function toggleSection(id, toggleEl) {
        const section = document.getElementById(id);
        const icon = toggleEl.querySelector("span");
        const isVisible = section.style.display === "block";
        section.style.display = isVisible ? "none" : "block";
        icon.classList.toggle("rotate", !isVisible);
      }
    </script>
    
  <!-- Footer with inventory link -->
  <footer style="text-align:center; margin-top:20px; padding:10px 0;">
    <a href="https://mwl6313.github.io/KEYSBORROW/managertest.html" target="_blank">物品借還系統</a>
  </footer>
    
</body>
</html>
